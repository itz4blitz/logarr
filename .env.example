# Environment
NODE_ENV=development

# Database (non-standard port to avoid conflicts)
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/logarr

# Redis (non-standard port to avoid conflicts)
REDIS_URL=redis://localhost:6380

# Backend
BACKEND_PORT=4001
CORS_ORIGIN=http://localhost:3001

# Frontend
NEXT_PUBLIC_API_URL=http://localhost:4001/api
NEXT_PUBLIC_WS_URL=http://localhost:4001
FRONTEND_PORT=3001

# AI Providers (optional - auto-configured on startup)
# Set any of these API keys and the provider will be automatically configured
# on first startup. The first provider with a key becomes the default.
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
GOOGLE_AI_API_KEY=

# Local AI (Ollama/LM Studio) - set base URL to auto-configure
# OLLAMA_BASE_URL=http://localhost:11434
# LMSTUDIO_BASE_URL=http://localhost:1234/v1

# Historical Log Backfill (default: true)
# Set to false to skip historical log processing on first startup.
# When false, only new log entries will be captured going forward.
BACKFILL=true

# Log Retention (optional - defaults shown)
# Set LOG_CLEANUP_ENABLED=false to disable automatic cleanup
LOG_CLEANUP_ENABLED=true
LOG_RETENTION_DAYS=30           # Days to keep info/debug logs
LOG_RETENTION_ERROR_DAYS=90     # Days to keep error/warn logs (3x longer for debugging)
LOG_CLEANUP_CRON=0 3 * * *      # Cron schedule (default: 3 AM daily)
LOG_CLEANUP_BATCH_SIZE=10000    # Rows deleted per batch (tune for your hardware)

# =============================================================================
# MEDIA SERVERS (optional - auto-configured on startup)
# Set URL + API key for each server you want to monitor.
# Servers will be auto-added on first startup if these are set.
# =============================================================================

# Jellyfin
JELLYFIN_URL=
JELLYFIN_API_KEY=

# Plex (use X-Plex-Token)
PLEX_URL=
PLEX_TOKEN=

# Emby
EMBY_URL=
EMBY_API_KEY=

# Sonarr
SONARR_URL=
SONARR_API_KEY=

# Radarr
RADARR_URL=
RADARR_API_KEY=

# Prowlarr
PROWLARR_URL=
PROWLARR_API_KEY=

# Whisparr
WHISPARR_URL=
WHISPARR_API_KEY=

# =============================================================================
# HEALTH CHECK (optional)
# =============================================================================
# Startup grace period for health checks (default: 60 seconds)
# Allows file ingestion time to initialize before health checks fail.
# Increase this if volumes take longer to mount during docker compose restart.
HEALTH_CHECK_STARTUP_GRACE_SECONDS=60

# =============================================================================
# LOG FILE PATHS (optional - for file-based log ingestion)
# =============================================================================
# These are HOST paths that get mounted into Docker containers.
# In the Sources UI, configure the CONTAINER paths: /plex-logs, /jellyfin-logs, etc.
#
# Plex examples:
#   Windows: C:/Users/YourName/AppData/Local/Plex Media Server/Logs
#   Linux:   /var/lib/plexmediaserver/Library/Application Support/Plex Media Server/Logs
#   Docker:  /path/to/plex/config/Library/Application Support/Plex Media Server/Logs
PLEX_LOGS_PATH=

# Jellyfin examples:
#   Windows: C:/ProgramData/Jellyfin/Server/log
#   Linux:   /var/lib/jellyfin/log
#   Docker:  /path/to/jellyfin/config/log
JELLYFIN_LOGS_PATH=

# Emby examples:
#   Windows: C:/ProgramData/Emby-Server/logs
#   Linux:   /var/lib/emby/logs
#   Docker:  /path/to/emby/config/logs
EMBY_LOGS_PATH=

# Sonarr examples (container path: /sonarr-logs):
#   Windows: C:/ProgramData/Sonarr/logs
#   Linux:   ~/.config/Sonarr/logs
#   Docker:  /path/to/sonarr/config/logs
SONARR_LOGS_PATH=

# Radarr examples (container path: /radarr-logs):
#   Windows: C:/ProgramData/Radarr/logs
#   Linux:   ~/.config/Radarr/logs
#   Docker:  /path/to/radarr/config/logs
RADARR_LOGS_PATH=

# Prowlarr examples (container path: /prowlarr-logs):
#   Windows: C:/ProgramData/Prowlarr/logs
#   Linux:   ~/.config/Prowlarr/logs
#   Docker:  /path/to/prowlarr/config/logs
PROWLARR_LOGS_PATH=

# Whisparr examples (container path: /whisp-logs):
#   Windows: C:/ProgramData/Whisparr/logs
#   Linux:   ~/.config/Whisparr/logs
#   Docker:  /path/to/whisparr/config/logs
WHISPARR_LOGS_PATH=

# =============================================================================
# MULTIPLE INSTANCES (optional - for multiple servers of the same type)
# =============================================================================
# Use numbered suffixes (_1, _2, _3) to run multiple instances of the same
# server type (e.g., Movies vs Shorts, 1080p vs 4K). Each maps to a container
# path like /radarr-logs-1, /radarr-logs-2, /radarr-logs-3, etc.
#
# Example: Two Radarr instances (Movies and Shorts)
#   RADARR_LOGS_PATH=/path/to/radarr-movies/logs
#   RADARR_LOGS_PATH_1=/path/to/radarr-shorts/logs
#
# In the Sources UI, add each server separately using:
#   - Primary:   /radarr-logs
#   - Instance 1: /radarr-logs-1
#   - Instance 2: /radarr-logs-2
#   - Instance 3: /radarr-logs-3
#
PLEX_LOGS_PATH_1=
PLEX_LOGS_PATH_2=
PLEX_LOGS_PATH_3=

JELLYFIN_LOGS_PATH_1=
JELLYFIN_LOGS_PATH_2=
JELLYFIN_LOGS_PATH_3=

EMBY_LOGS_PATH_1=
EMBY_LOGS_PATH_2=
EMBY_LOGS_PATH_3=

SONARR_LOGS_PATH_1=
SONARR_LOGS_PATH_2=
SONARR_LOGS_PATH_3=

RADARR_LOGS_PATH_1=
RADARR_LOGS_PATH_2=
RADARR_LOGS_PATH_3=

PROWLARR_LOGS_PATH_1=
PROWLARR_LOGS_PATH_2=
PROWLARR_LOGS_PATH_3=

WHISPARR_LOGS_PATH_1=
WHISPARR_LOGS_PATH_2=
WHISPARR_LOGS_PATH_3=
